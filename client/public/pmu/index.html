<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üèá Le PMU - Jeu de Paris avec Cartes</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Theme Toggle -->
    <button id="themeToggle" class="theme-toggle" aria-label="Toggle Dark Mode">
        <i class="fas fa-moon"></i>
    </button>

    <!-- Header -->
    <header class="header">
        <div class="container">
            <h1>üèá Le PMU</h1>
            <p class="subtitle">Jeu de paris avec cartes - Course de chevaux</p>
        </div>
    </header>

    <!-- Game Container -->
    <main class="game-container">
        <!-- Settings Panel -->
        <section class="settings-panel" id="settingsPanel">
            <div class="card">
                <h2><i class="fas fa-cog"></i> Configuration</h2>
                
                <div class="setting-group">
                    <label for="playerCount">Nombre de joueurs:</label>
                    <div class="input-group">
                        <button class="btn-sm" onclick="changePlayerCount(-1)">-</button>
                        <input type="number" id="playerCount" min="2" max="8" value="4" readonly>
                        <button class="btn-sm" onclick="changePlayerCount(1)">+</button>
                    </div>
                </div>

                <div class="setting-group">
                    <label for="sipsPerPlayer">Points par joueur:</label>
                    <div class="input-group">
                        <button class="btn-sm" onclick="changeSips(-5)">-</button>
                        <input type="number" id="sipsPerPlayer" value="5" readonly>
                        <button class="btn-sm" onclick="changeSips(5)">+</button>
                    </div>
                </div>

                <div class="setting-group">
                    <label for="raceLength">Longueur de la course:</label>
                    <div class="input-group">
                        <button class="btn-sm" onclick="changeRaceLength(-1)">-</button>
                        <input type="number" id="raceLength" min="5" max="12" value="7" readonly>
                        <button class="btn-sm" onclick="changeRaceLength(1)">+</button>
                    </div>
                </div>

                <div class="setting-group checkbox-group">
                    <label>
                        <input type="checkbox" id="bonusEnabled">
                        Activer les bonus (Tour 5)
                    </label>
                </div>

                <button class="btn btn-primary btn-block" onclick="startGame()">
                    <i class="fas fa-play"></i> Commencer la course
                </button>
            </div>

            <!-- Rules Card -->
            <div class="card rules-card">
                <h3><i class="fas fa-book"></i> R√®gles Rapides</h3>
                <ul class="rules-list">
                    <li>Chaque joueur parie ses points sur les as.</li>
                    <li>On tire des cartes du paquet.</li>
                    <li>Si la couleur sort, le cheval avance d'une case.</li>
                    <li>Le premier cheval arriv√© gagne!</li>
                    <li>Les gagnants distribuent leurs mises.</li>
                    <li>Les perdants perdent leurs mises.</li>
                </ul>
            </div>
        </section>

        <!-- Game Board (Hidden initially) -->
        <section class="game-board" id="gameBoard" style="display: none;">
            <!-- Left Column: Race Track -->
            <div class="race-column">
                <div class="card race-track-container">
                    <div class="race-header">
                        <h2><i class="fas fa-flag-checkered"></i> La Course</h2>
                        <div class="race-info">
                            <span class="info-badge">Cartes tir√©es: <strong id="cardCount">0</strong></span>
                            <span class="info-badge">Restantes: <strong id="deckCount">52</strong></span>
                        </div>
                    </div>

                    <div class="race-track" id="raceTrack">
                        <!-- Generated by JS -->
                    </div>

                    <div class="controls">
                        <button class="btn btn-primary" id="drawBtn" onclick="drawCard()">
                            <i class="fas fa-clone"></i> Tirer une carte (Espace)
                        </button>
                        <button class="btn btn-secondary" onclick="newRace()">
                            <i class="fas fa-redo"></i> Recommencer
                        </button>
                        <button class="btn btn-secondary" onclick="backToSettings()">
                            <i class="fas fa-cog"></i> R√©glages
                        </button>
                    </div>
                </div>

                <!-- Bonus Section (Hidden) -->
                <div class="card bonus-section" id="bonusSection" style="display: none;">
                    <h3>üåü BONUS TIME! üåü</h3>
                    <p>Choisissez un cheval pour parier 3 points suppl√©mentaires!</p>
                    <div class="bonus-buttons">
                        <button class="btn btn-horse spade" onclick="placeBonus('spade')">‚ô†Ô∏è</button>
                        <button class="btn btn-horse heart" onclick="placeBonus('heart')">‚ô•Ô∏è</button>
                        <button class="btn btn-horse diamond" onclick="placeBonus('diamond')">‚ô¶Ô∏è</button>
                        <button class="btn btn-horse club" onclick="placeBonus('club')">‚ô£Ô∏è</button>
                    </div>
                </div>
            </div>

            <!-- Right Column: Betting & Stats -->
            <div class="sidebar-column">
                <!-- Betting Panel -->
                <div class="card betting-panel">
                    <h3><i class="fas fa-coins"></i> Paris</h3>
                    
                    <div class="player-tabs" id="playerTabs">
                        <!-- Generated by JS -->
                    </div>

                    <div class="betting-content" id="bettingContent">
                        <!-- Generated by JS -->
                    </div>
                </div>

                <!-- Statistics -->
                <div class="card stats-card">
                    <h3><i class="fas fa-chart-bar"></i> Statistiques</h3>
                    <div class="stat-item">
                        <span class="stat-label">Courses jou√©es:</span>
                        <span class="stat-value" id="racesPlayed">0</span>
                    </div>
                    <div class="stat-horses">
                        <div class="stat-item">
                            <span>‚ô†Ô∏è Pique:</span>
                            <span class="stat-value" id="spadeWins">0</span>
                        </div>
                        <div class="stat-item">
                            <span>‚ô•Ô∏è C≈ìur:</span>
                            <span class="stat-value" id="heartWins">0</span>
                        </div>
                        <div class="stat-item">
                            <span>‚ô¶Ô∏è Carreau:</span>
                            <span class="stat-value" id="diamondWins">0</span>
                        </div>
                        <div class="stat-item">
                            <span>‚ô£Ô∏è Tr√®fle:</span>
                            <span class="stat-value" id="clubWins">0</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Winner Modal -->
    <div class="modal" id="winnerModal">
        <div class="modal-content">
            <h2>üèÜ VICTOIRE! üèÜ</h2>
            <div class="winner-horse" id="winnerHorse"></div>
            <div class="winner-details" id="winnerDetails"></div>
            <button class="btn btn-primary" onclick="newRace()">Nouvelle Course</button>
            <button class="btn btn-secondary" onclick="closeWinnerModal()">Fermer</button>
        </div>
    </div>

    <footer class="footer">
        <p>Le PMU - Jeu d'alcool responsable üîû</p>
        <p class="warning">L'abus d'alcool est dangereux pour la sant√©. √Ä consommer avec mod√©ration.</p>
        <p><a href="/">Retour au Hub</a></p>
    </footer>

    <script src="app.js"></script>
</body>
</html>